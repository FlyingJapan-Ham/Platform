(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[798],{4763:(e,t,s)=>{"use strict";s.d(t,{d2:()=>a,we:()=>l});let a=[{id:"ORD-10452",customerName:"김민지",email:"minji.kim@example.com",items:[{name:"Harry Potter Interactive Wand",productSlug:"harry-potter-wand",quantity:1,unitId:"INV-0001"},{name:"Mario Power-Up Band",productSlug:"mario-power-up-band",quantity:1,unitId:"INV-0125"}],orderDate:"2025-02-08 09:15",dueDate:"2025-02-12",paymentDate:"2025-02-08 10:05",status:"IN_PROGRESS",totalAmount:198e3},{id:"ORD-10448",customerName:"박지수",email:"jisoo.park@example.com",items:[{name:"Dyson Airwrap Multi-Styler",productSlug:"dyson-airwrap",quantity:1,unitId:"INV-0301"}],orderDate:"2025-02-06 08:45",dueDate:"2025-02-10",paymentDate:"2025-02-06 09:20",status:"OVERDUE",totalAmount:154e3,notes:"고객과 2차 연락 예정"},{id:"ORD-10441",customerName:"오세훈",email:"sehoon.oh@example.com",items:[{name:"USJ Wand + Power-Up Band 번들",productSlug:"usj-bundle-set",quantity:2},{name:"Trike Hair Dryer (Premium Edition)",productSlug:"trike-hair-dryer",quantity:1,unitId:"INV-0513"}],orderDate:"2025-02-02 12:10",dueDate:"2025-02-08",returnDate:"2025-02-07",paymentDate:"2025-02-02 13:40",status:"COMPLETED",totalAmount:342e3},{id:"ORD-10435",customerName:"최다은",email:"daeun.choi@example.com",items:[{name:"ReFa 스트레이트 아이론",productSlug:"refa-straight-iron",quantity:1,unitId:"INV-0458"}],orderDate:"2025-01-30 07:55",dueDate:"2025-02-05",paymentDate:"2025-01-30 08:55",status:"OVERDUE",totalAmount:98e3,notes:"연체료 12,000원 부과됨"},{id:"ORD-10422",customerName:"한유진",email:"yujin.han@example.com",items:[{name:"Mario Power-Up Band",productSlug:"mario-power-up-band",quantity:1,unitId:"INV-0182"},{name:"Harry Potter Interactive Wand",productSlug:"harry-potter-wand",quantity:1,unitId:"INV-0002"}],orderDate:"2025-01-25 10:35",dueDate:"2025-01-31",returnDate:"2025-01-31",paymentDate:"2025-01-25 11:10",status:"COMPLETED",totalAmount:189e3},{id:"ORD-10418",customerName:"이수연",email:"suyeon.lee@example.com",items:[{name:"Dyson Airwrap Multi-Styler",productSlug:"dyson-airwrap",quantity:1,unitId:"INV-0301"},{name:"Trike Hair Dryer (Premium Edition)",productSlug:"trike-hair-dryer",quantity:1,unitId:"INV-0502"}],orderDate:"2025-01-22 14:05",dueDate:"2025-01-28",returnDate:"2025-01-27",paymentDate:"2025-01-22 15:25",status:"COMPLETED",totalAmount:298e3}],l=[{id:"INV-0001",productName:"Harry Potter Interactive Wand",productSlug:"harry-potter-wand",status:"RENTED",damageStatus:"NONE",registrationDate:"2024-08-12",lastActivity:"2025-02-10 11:20",profitLoss:87e3},{id:"INV-0002",productName:"Harry Potter Interactive Wand",productSlug:"harry-potter-wand",status:"AVAILABLE",damageStatus:"NONE",registrationDate:"2024-09-01",lastActivity:"2025-02-09 18:05",profitLoss:94e3},{id:"INV-0125",productName:"Mario Power-Up Band",productSlug:"mario-power-up-band",status:"RETURNING",damageStatus:"NONE",registrationDate:"2024-07-21",lastActivity:"2025-02-10 08:10",profitLoss:112e3},{id:"INV-0182",productName:"Mario Power-Up Band",productSlug:"mario-power-up-band",status:"CLEANING",damageStatus:"DAMAGED",registrationDate:"2024-06-30",lastActivity:"2025-02-09 21:30",profitLoss:56e3},{id:"INV-0301",productName:"Dyson Airwrap Multi-Styler",productSlug:"dyson-airwrap",status:"RENTED",damageStatus:"NONE",registrationDate:"2024-10-04",lastActivity:"2025-02-10 10:00",profitLoss:264e3},{id:"INV-0310",productName:"Dyson Airwrap Multi-Styler",productSlug:"dyson-airwrap",status:"AVAILABLE",damageStatus:"NONE",registrationDate:"2024-11-18",lastActivity:"2025-02-08 14:45",profitLoss:164e3},{id:"INV-0458",productName:"ReFa 스트레이트 아이론",productSlug:"refa-straight-iron",status:"RENTED",damageStatus:"NONE",registrationDate:"2024-05-12",lastActivity:"2025-02-10 09:50",profitLoss:78e3},{id:"INV-0502",productName:"Trike Hair Dryer (Premium Edition)",productSlug:"trike-hair-dryer",status:"AVAILABLE",damageStatus:"NONE",registrationDate:"2024-09-28",lastActivity:"2025-02-07 19:20",profitLoss:42e3},{id:"INV-0513",productName:"Trike Hair Dryer (Premium Edition)",productSlug:"trike-hair-dryer",status:"RENTED",damageStatus:"NONE",registrationDate:"2024-09-28",lastActivity:"2025-02-10 07:55",profitLoss:62e3},{id:"INV-0607",productName:"USJ Wand + Power-Up Band 번들",productSlug:"usj-bundle-set",status:"LOST",damageStatus:"LOST",registrationDate:"2024-03-19",lastActivity:"2025-02-06 16:40",profitLoss:-45e3}]},5332:(e,t,s)=>{Promise.resolve().then(s.bind(s,6402))},5907:(e,t,s)=>{"use strict";s.d(t,{P7:()=>l,v9:()=>a});let a=[{id:"harry-wand",slug:"harry-potter-wand",name:"Harry Potter Interactive Wand",category:"usj",price:"3일 13,000원",lateFee:"추가 1일당 3,000원",basePriceValue:13e3,lateFeeValue:3e3,description:"USJ 마법 월드에서만 만날 수 있는 인터랙티브 지팡이. 모든 마법 스팟에서 바로 사용 가능합니다.",badges:["USJ TOP1","실시간 재고"],bullets:[{label:"난바 여행자센터 픽업 포함"},{label:"스팟 맵 QR 가이드 제공"},{label:"워런티 케이스 동봉"}],availability:"120개 중 120개 사용 가능"},{id:"mario-band",slug:"mario-power-up-band",name:"Mario Power-Up Band",category:"usj",price:"3일 13,000원",lateFee:"추가 1일당 3,000원",basePriceValue:13e3,lateFeeValue:3e3,description:"슈퍼 닌텐도 월드에서 게임과 미션을 즐길 수 있는 필수 아이템. 가족 단위 방문자에게 가장 인기 있습니다.",badges:["Family Pick","미니게임 연동"],bullets:[{label:"프로필 세팅 지원"},{label:"코인 집계 앱 안내"},{label:"다회 방문 할인 쿠폰"}],availability:"120개 중 110개 사용 가능",reviews:[{id:"rev-mario-1",author:"박지원",rating:5,date:"2025-02-05",tripType:"친구",content:"줄 서서 구매할 필요 없이 바로 픽업해서 좋았어요. 게임 연동 안내가 있어 초보도 어렵지 않았습니다."},{id:"rev-mario-2",author:"정해린",rating:4,date:"2024-11-18",tripType:"가족",content:"밴드 상태가 아주 깨끗했고 아이들이 정말 즐거워했어요. 반납 문자까지 챙겨줘서 안심됐습니다."}]},{id:"usj-bundle",slug:"usj-bundle-set",name:"USJ Wand + Power-Up Band 번들",category:"usj",price:"3일 24,000원",lateFee:"추가 1일당 5,000원",basePriceValue:24e3,lateFeeValue:5e3,description:"지팡이와 파워업 밴드를 함께 렌탈하면 10% 할인! 인기 아이템을 한번에 예약하세요.",badges:["Bundle Deal","10% OFF"],bullets:[{label:"공동 픽업/반납"},{label:"추가 굿즈 5% 할인 쿠폰"},{label:"연장 시 동일 할인 유지"}],availability:"90개 중 72개 사용 가능"}],l=[{id:"dyson-airwrap",slug:"dyson-airwrap",name:"Dyson Airwrap Multi-Styler (Japan 100V)",category:"beauty",price:"3일 40,000원",lateFee:"추가 1일당 6,000원",basePriceValue:4e4,lateFeeValue:6e3,description:"여행 중에도 완벽한 스타일링을 도와주는 멀티 헤어 디바이스. 일본 100V 전압 호환 버전으로 안전하게 사용하세요.",badges:["뷰티 베스트","100V 호환"],bullets:[{label:"필수 어댑터 포함"},{label:"멀티 브러시 6종 세트"},{label:"살균 보관 파우치 제공"}],availability:"45개 중 38개 사용 가능"},{id:"refa-iron",slug:"refa-straight-iron",name:"ReFa 스트레이트 아이론",category:"beauty",price:"3일 30,000원",lateFee:"추가 1일당 6,000원",basePriceValue:3e4,lateFeeValue:6e3,description:"휴대성이 뛰어난 프리미엄 스트레이트 아이론. 촬영, 이벤트, 웨딩 출장에 맞춤 추천 제품입니다.",badges:["Lightweight","여행 추천"],bullets:[{label:"열 보호 매트 포함"},{label:"퀵 가이드 제공"},{label:"난바 여행자센터 픽업 전용"}],availability:"30개 중 24개 사용 가능"},{id:"trike-dryer",slug:"trike-hair-dryer",name:"Trike Hair Dryer (Premium Edition)",category:"beauty",price:"3일 30,000원",lateFee:"추가 1일당 6,000원",basePriceValue:3e4,lateFeeValue:6e3,description:"여행 중에도 살롱급 드라이를 위한 프리미엄 헤어드라이어. 샤크\xb7T3 유사 스펙으로 고속 건조를 지원합니다.",badges:["High Speed","살롱 퀄리티"],bullets:[{label:"노즐 3종 제공"},{label:"1200W 출력"},{label:"일본 규격 플러그"}],availability:"28개 중 18개 사용 가능"}]},6402:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(5155),l=s(2115),r=s(2619),n=s.n(r),i=s(4763),d=s(5907);let o={IN_PROGRESS:"대여 진행",COMPLETED:"반납 완료",OVERDUE:"연체"},c={IN_PROGRESS:"bg-blue-500/20 text-blue-200",COMPLETED:"bg-emerald-500/20 text-emerald-200",OVERDUE:"bg-rose-500/20 text-rose-200"},u=[{label:"전체",value:"ALL"},{label:"대여 진행",value:"IN_PROGRESS"},{label:"반납 완료",value:"COMPLETED"},{label:"연체",value:"OVERDUE"}];function x(e){if(!e)return null;let t=new Date(e.includes("T")?e:e.includes(" ")?e.replace(" ","T"):"".concat(e,"T00:00:00"));return Number.isNaN(t.getTime())?null:t}function m(e,t,s){let a=[],l=new Date(t,s,1),r=new Date(t,s+1,0),n=l.getDay();for(let e=n-1;e>=0;e-=1){let l=new Date(t,s,1-e-1);a.push({date:l,inCurrentMonth:!1,orders:[]})}for(let l=1;l<=r.getDate();l+=1){let r=new Date(t,s,l),n=e.filter(e=>{var t,s;let a=x(e.orderDate),l=null!=(s=null!=(t=x(e.returnDate))?t:x(e.dueDate))?s:a;if(!a||!l)return!1;let n=r.setHours(0,0,0,0),i=new Date(a).setHours(0,0,0,0),d=new Date(l).setHours(0,0,0,0);return n>=i&&n<=d});a.push({date:r,inCurrentMonth:!0,orders:n})}let i=(7-a.length%7)%7;for(let e=1;e<=i;e+=1){let l=new Date(t,s+1,e);a.push({date:l,inCurrentMonth:!1,orders:[]})}return a}function p(e,t){if(!e)return"—";let s=x(e);return s?s.toLocaleString("ko-KR",null!=t?t:{dateStyle:"short",timeStyle:"short"}):e}function b(){let[e,t]=(0,l.useState)(i.d2),[s,r]=(0,l.useState)(()=>{let e=new Date;return new Date(e.getFullYear(),e.getMonth(),1)}),[x,b]=(0,l.useState)(null),[h,g]=(0,l.useState)(null),[N,y]=(0,l.useState)(""),[j,f]=(0,l.useState)(""),[v,D]=(0,l.useState)(null),[w,S]=(0,l.useState)({orderDate:"",dueDate:"",returnDate:""}),[k,E]=(0,l.useState)(null),[I,C]=(0,l.useState)([]),[L,V]=(0,l.useState)("ALL"),[P,R]=(0,l.useState)(""),O=(0,l.useMemo)(()=>[...d.v9,...d.P7],[]),A=(0,l.useMemo)(()=>e.filter(e=>{let t="ALL"===L||e.status===L,s=P.trim().toLowerCase(),a=0===s.length||e.customerName.toLowerCase().includes(s)||e.email.toLowerCase().includes(s)||e.id.toLowerCase().includes(s)||e.items.some(e=>e.name.toLowerCase().includes(s));return t&&a}),[e,L,P]),M=(e,a)=>{t(t=>{let l=t.map(t=>t.id===e?a(t):t);if(x){let e=m(l,s.getFullYear(),s.getMonth()).find(e=>e.date.toDateString()===x.date.toDateString());b(null!=e?e:null)}return l})},T=e=>{g(e),y(""),f("")},F=()=>{g(null),y(""),f("")},U=e=>{var t;D(e),S({orderDate:e.orderDate,dueDate:e.dueDate,returnDate:null!=(t=e.returnDate)?t:""})},q=()=>{D(null),S({orderDate:"",dueDate:"",returnDate:""})},H=e=>{E(e),C(e.items.map(e=>({...e})))},B=()=>{E(null),C([])},_=(e,t)=>{C(s=>s.map((s,a)=>a===e?{...s,...t}:s))},K=e.length,W=e.filter(e=>"IN_PROGRESS"===e.status).length,G=e.filter(e=>"OVERDUE"===e.status),J=e.filter(e=>"COMPLETED"===e.status).length,Y=0===K?0:G.length/K*100,z=e.reduce((e,t)=>{let s=[t.orderDate,t.dueDate];return t.returnDate&&s.push(t.returnDate),Math.max(e,Math.max(...s.map(e=>new Date(e).getTime())))},0),Q=z>0?new Date(z).toISOString().slice(0,10):"—",X=[{title:"전체 주문",value:"".concat(K.toLocaleString("ko-KR"),"건"),caption:"최근 30일 누적"},{title:"진행 중",value:"".concat(W.toLocaleString("ko-KR"),"건"),caption:"반납 대기 주문"},{title:"연체",value:"".concat(G.length.toLocaleString("ko-KR"),"건"),caption:"연체율 ".concat(Y.toFixed(1),"%"),accent:"text-rose-300"},{title:"반납 완료",value:"".concat(J.toLocaleString("ko-KR"),"건"),caption:"정상 반납 처리",accent:"text-emerald-300"}],{calendarDays:Z,calendarTitle:$}=(0,l.useMemo)(()=>{let t=s.getFullYear(),a=s.getMonth(),l=m(e,t,a),r=new Intl.DateTimeFormat("ko-KR",{month:"long"});return{calendarDays:l,calendarTitle:"".concat(t,"년 ").concat(r.format(new Date(t,a,1)))}},[s,e]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("section",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-white",children:"주문 관리"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"전체 주문 현황과 연체 케이스를 추적하고 필요한 조치를 진행하세요."})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)("button",{className:"rounded-full border border-slate-700 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-200 hover:border-blue-400",children:"CSV 내보내기"}),(0,a.jsx)(n(),{href:"/admin/inventory",className:"inline-flex items-center justify-center rounded-full border border-slate-700 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-200 hover:border-blue-400",children:"재고 이동"})]})]}),(0,a.jsx)("section",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-4",children:X.map(e=>{var t;return(0,a.jsxs)("div",{className:"rounded-3xl border border-slate-800 bg-slate-900/70 p-6",children:[(0,a.jsx)("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-400",children:e.title}),(0,a.jsx)("p",{className:["mt-3 text-2xl font-bold text-white",null!=(t=e.accent)?t:""].join(" "),children:e.value}),(0,a.jsx)("p",{className:"mt-1 text-xs text-slate-400",children:e.caption})]},e.title)})}),(0,a.jsxs)("section",{className:"rounded-3xl border border-slate-800 bg-slate-900/70 p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white",children:"월간 주문 캘린더"}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"픽업일과 반납일 기준으로 주문을 달력에서 확인하세요."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-slate-400",children:[(0,a.jsx)("button",{type:"button",className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-slate-700 text-slate-200 hover:border-blue-400",onClick:()=>{r(e=>new Date(e.getFullYear(),e.getMonth()-1,1)),b(null)},"aria-label":"Previous month",children:(0,a.jsx)("span",{"aria-hidden":!0,children:"‹"})}),(0,a.jsx)("span",{children:$}),(0,a.jsx)("button",{type:"button",className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-slate-700 text-slate-200 hover:border-blue-400",onClick:()=>{r(e=>new Date(e.getFullYear(),e.getMonth()+1,1)),b(null)},"aria-label":"Next month",children:(0,a.jsx)("span",{"aria-hidden":!0,children:"›"})})]})]}),(0,a.jsxs)("div",{className:"mt-6 grid gap-2",children:[(0,a.jsx)("div",{className:"grid grid-cols-7 text-center text-xs font-semibold uppercase tracking-wide text-slate-500",children:["일","월","화","수","목","금","토"].map(e=>(0,a.jsx)("span",{children:e},e))}),(0,a.jsx)("div",{className:"grid grid-cols-7 gap-2 text-xs",children:Z.map(e=>{let t=e.date.getDate(),s=e.inCurrentMonth&&new Date().toDateString()===e.date.toDateString(),l=(null==x?void 0:x.date.toDateString())===e.date.toDateString();return(0,a.jsxs)("button",{type:"button",onClick:()=>{e.inCurrentMonth&&b(e)},className:["min-h-[120px] rounded-2xl border p-3 text-left transition",e.inCurrentMonth?"border-slate-800 bg-slate-950/50 hover:border-blue-400":"cursor-default border-slate-900 bg-slate-950/20 text-slate-600",s?"border-blue-500/60":"",l?"ring-2 ring-blue-400":""].join(" "),disabled:!e.inCurrentMonth,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:["text-sm font-semibold",e.inCurrentMonth?"text-white":"text-slate-500"].join(" "),children:t}),e.orders.length>0?(0,a.jsxs)("span",{className:"rounded-full bg-blue-500/30 px-2 py-0.5 text-[10px] font-semibold text-blue-100",children:[e.orders.length,"건"]}):null]}),e.orders.length>0?(0,a.jsxs)("ul",{className:"mt-2 space-y-1",children:[e.orders.slice(0,3).map(t=>(0,a.jsxs)("li",{className:"rounded-xl border border-slate-800 bg-slate-900/60 px-2 py-1 text-[10px] text-slate-200",children:[(0,a.jsx)("span",{className:"font-semibold text-white",children:t.customerName}),(0,a.jsx)("span",{className:"ml-1 text-slate-400",children:o[t.status]})]},"".concat(t.id,"-").concat(e.date.toISOString()))),e.orders.length>3?(0,a.jsxs)("li",{className:"text-[10px] text-slate-400",children:["+ ",e.orders.length-3,"건 더 보기"]}):null]}):(0,a.jsx)("p",{className:"mt-6 text-[10px] text-slate-600",children:"예정된 주문 없음"})]},"".concat(e.date.toISOString(),"-").concat(e.inCurrentMonth))})})]}),x?(0,a.jsxs)("div",{className:"mt-6 rounded-2xl border border-slate-800 bg-slate-950/60 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-white",children:x.date.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"short"})}),(0,a.jsxs)("p",{className:"text-xs text-slate-400",children:["총 ",x.orders.length,"건의 예약"]})]}),(0,a.jsx)("button",{type:"button",className:"rounded-full border border-slate-700 px-3 py-1 text-xs text-slate-300 hover:border-blue-400",onClick:()=>b(null),children:"닫기"})]}),x.orders.length>0?(0,a.jsx)("ul",{className:"mt-4 space-y-3 text-sm text-slate-200",children:x.orders.map(e=>{var t;return(0,a.jsxs)("li",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-4",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-white",children:e.customerName}),(0,a.jsxs)("p",{className:"text-xs text-slate-400",children:["주문번호 ",e.id]})]}),(0,a.jsx)("span",{className:["rounded-full px-3 py-1 text-xs font-semibold",c[e.status]].join(" "),children:o[e.status]})]}),(0,a.jsx)("ul",{className:"mt-2 space-y-1 text-xs text-slate-300",children:e.items.map((e,t)=>(0,a.jsxs)("li",{children:[e.name," \xb7 수량 ",e.quantity,e.unitId?" \xb7 유닛 ".concat(e.unitId):""]},"".concat(e.productSlug,"-").concat(t)))}),(0,a.jsxs)("div",{className:"mt-3 grid gap-2 text-xs text-slate-400 md:grid-cols-4",children:[(0,a.jsxs)("p",{children:["주문일: ",p(e.orderDate)]}),(0,a.jsxs)("p",{children:["결제일: ",p(e.paymentDate)]}),(0,a.jsxs)("p",{children:["반납 예정: ",p(e.dueDate,{dateStyle:"short"})]}),(0,a.jsxs)("p",{children:["반납일: ",p(e.returnDate,{dateStyle:"short"})]})]}),(0,a.jsxs)("p",{className:"mt-3 text-sm font-semibold text-blue-200",children:["₩",e.totalAmount.toLocaleString("ko-KR")]}),(0,a.jsxs)("p",{className:"mt-2 text-xs text-slate-500",children:["메모: ",null!=(t=e.notes)?t:"추가 메모 없음"]}),(0,a.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[(0,a.jsx)("button",{type:"button",className:"rounded-full border border-slate-700 px-3 py-1 text-xs text-slate-200 hover:border-blue-400",onClick:()=>T(e),children:"추가 비용 청구"}),(0,a.jsx)("button",{type:"button",className:"rounded-full border border-slate-700 px-3 py-1 text-xs text-slate-200 hover:border-blue-400",onClick:()=>U(e),children:"일정 변경"}),(0,a.jsx)("button",{type:"button",className:"rounded-full border border-slate-700 px-3 py-1 text-xs text-slate-200 hover:border-blue-400",onClick:()=>H(e),children:"상품/유닛 변경"})]})]},e.id)})}):(0,a.jsx)("p",{className:"mt-4 text-xs text-slate-400",children:"선택한 날짜에 예약이 없습니다."})]}):null]}),(0,a.jsxs)("section",{className:"rounded-3xl border border-slate-800 bg-slate-900/70 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white",children:"전체 주문 내역"}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"모든 주문을 상태별로 확인하고 연체 건을 빠르게 처리하세요."})]}),(0,a.jsxs)("span",{className:"text-xs text-slate-500",children:["업데이트 ",Q]})]}),(0,a.jsxs)("div",{className:"mt-6 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,a.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:(0,a.jsxs)("label",{className:"text-xs text-slate-400",children:["상태",(0,a.jsx)("select",{value:L,onChange:e=>V(e.target.value),className:"ml-2 rounded border border-slate-700 bg-slate-900 px-3 py-2 text-xs text-slate-100",children:u.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]})}),(0,a.jsx)("input",{type:"search",placeholder:"주문번호, 고객, 상품 검색",value:P,onChange:e=>R(e.target.value),className:"rounded border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:border-blue-400 focus:outline-none md:w-64"})]}),(0,a.jsxs)("div",{className:"mt-4 overflow-auto",children:[(0,a.jsxs)("table",{className:"min-w-full border-collapse text-sm text-slate-300",children:[(0,a.jsx)("thead",{className:"bg-slate-900/80 text-xs uppercase text-slate-400",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left",children:"주문번호"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left",children:"고객"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left",children:"상품"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left",children:"주문일"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left",children:"결제일"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left",children:"반납 예정"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left",children:"반납일"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left",children:"상태"}),(0,a.jsx)("th",{className:"px-4 py-3 text-right",children:"합계"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left",children:"비고"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left",children:"조치"})]})}),(0,a.jsx)("tbody",{children:A.map(e=>{var t;return(0,a.jsxs)("tr",{className:["border-t border-slate-800 bg-slate-950/40 hover:bg-slate-900/60","OVERDUE"===e.status?"bg-rose-500/5":""].join(" "),children:[(0,a.jsx)("td",{className:"px-4 py-3 font-mono text-xs text-slate-400",children:e.id}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-white",children:e.customerName}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:e.email})]}),(0,a.jsx)("td",{className:"px-4 py-3 text-xs text-slate-300",children:e.items.map(e=>[e.name,e.quantity>1?"x".concat(e.quantity):null,e.unitId?"#".concat(e.unitId):null].filter(Boolean).join(" ")).join(", ")}),(0,a.jsx)("td",{className:"px-4 py-3 text-xs text-slate-400",children:p(e.orderDate)}),(0,a.jsx)("td",{className:"px-4 py-3 text-xs text-slate-400",children:p(e.paymentDate)}),(0,a.jsx)("td",{className:"px-4 py-3 text-xs text-slate-400",children:p(e.dueDate,{dateStyle:"short"})}),(0,a.jsx)("td",{className:"px-4 py-3 text-xs text-slate-400",children:p(e.returnDate,{dateStyle:"short"})}),(0,a.jsx)("td",{className:"px-4 py-3 text-xs",children:(0,a.jsx)("span",{className:["rounded-full px-3 py-1 font-medium",c[e.status]].join(" "),children:o[e.status]})}),(0,a.jsxs)("td",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-100",children:["₩",e.totalAmount.toLocaleString("ko-KR")]}),(0,a.jsx)("td",{className:"px-4 py-3 text-xs text-slate-400",children:null!=(t=e.notes)?t:"—"}),(0,a.jsx)("td",{className:"px-4 py-3 text-xs",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)("button",{type:"button",className:"rounded-full border border-slate-700 px-3 py-1 text-xs text-slate-200 hover:border-blue-400",onClick:()=>T(e),children:"추가 비용"}),(0,a.jsx)("button",{type:"button",className:"rounded-full border border-slate-700 px-3 py-1 text-xs text-slate-200 hover:border-blue-400",onClick:()=>U(e),children:"일정 변경"}),(0,a.jsx)("button",{type:"button",className:"rounded-full border border-slate-700 px-3 py-1 text-xs text-slate-200 hover:border-blue-400",onClick:()=>H(e),children:"상품/유닛 변경"})]})})]},e.id)})})]}),0===A.length?(0,a.jsx)("p",{className:"px-4 py-6 text-center text-xs text-slate-500",children:"표시할 주문이 없습니다."}):null]})]}),(0,a.jsxs)("section",{className:"rounded-3xl border border-slate-800 bg-slate-900/70 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white",children:"연체 현황"}),(0,a.jsxs)("span",{className:"text-xs text-rose-300",children:["연체율 ",Y.toFixed(1),"%"]})]}),(0,a.jsx)("p",{className:"mt-2 text-xs text-slate-400",children:"연체 주문에 대해 고객과 연락하고 연체료를 부과하세요."}),(0,a.jsx)("ul",{className:"mt-4 space-y-3",children:G.length>0?G.map(e=>{var t;return(0,a.jsxs)("li",{className:"rounded-2xl border border-rose-500/40 bg-rose-500/10 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-white",children:e.customerName}),(0,a.jsx)("span",{className:"text-xs font-medium text-rose-200",children:"연체 진행 중"})]}),(0,a.jsxs)("p",{className:"mt-2 text-xs text-rose-100",children:["주문번호 ",e.id," \xb7 반납 예정 ",e.dueDate]}),(0,a.jsxs)("p",{className:"mt-1 text-xs text-slate-200",children:["연락 메모: ",null!=(t=e.notes)?t:"추가 메모 없음"]}),(0,a.jsxs)("p",{className:"mt-1 text-xs text-slate-400",children:["고객 이메일: ",e.email]})]},e.id)}):(0,a.jsx)("li",{className:"rounded-2xl bg-slate-900/60 p-4 text-xs text-slate-400",children:"현재 연체 중인 주문이 없습니다."})})]})]}),h?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center overlay-backdrop backdrop-blur",children:(0,a.jsxs)("div",{className:"w-full max-w-md rounded-3xl border border-slate-800 bg-slate-900/90 p-6 text-sm text-slate-200 shadow-2xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"추가 비용 청구"}),(0,a.jsx)("button",{type:"button",className:"text-slate-400 hover:text-slate-200",onClick:F,"aria-label":"Close charge modal",children:"✕"})]}),(0,a.jsxs)("p",{className:"mt-2 text-xs text-slate-400",children:[h.customerName," / 주문번호 ",h.id]}),(0,a.jsxs)("form",{className:"mt-4 space-y-4",onSubmit:e=>{if(e.preventDefault(),!h)return;let t=Number(N);Number.isFinite(t)&&!(t<=0)&&(M(h.id,e=>{let s="₩".concat(t.toLocaleString("ko-KR")),a="추가 청구",l=j.trim(),r=l.length>0?"".concat(a,": ").concat(s," (").concat(l,")"):"".concat(a,": ").concat(s),n=e.notes?"".concat(e.notes," / ").concat(r):r;return{...e,totalAmount:e.totalAmount+t,notes:n}}),F())},children:[(0,a.jsxs)("label",{className:"space-y-2 text-xs font-semibold uppercase tracking-widest text-slate-400",children:["청구 금액",(0,a.jsx)("input",{type:"number",min:1,className:"w-full rounded border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-100 focus:border-blue-400 focus:outline-none",placeholder:"금액을 입력하세요",value:N,onChange:e=>y(e.target.value)})]}),(0,a.jsxs)("label",{className:"space-y-2 text-xs font-semibold uppercase tracking-widest text-slate-400",children:["메모 (선택)",(0,a.jsx)("textarea",{className:"h-24 w-full rounded border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-100 focus:border-blue-400 focus:outline-none",placeholder:"추가 비용 사유를 입력하세요",value:j,onChange:e=>f(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)("button",{type:"button",className:"rounded-full border border-slate-700 px-4 py-2 text-xs font-semibold text-slate-300 hover:border-slate-500",onClick:F,children:"취소"}),(0,a.jsx)("button",{type:"submit",className:"rounded-full bg-blue-500 px-4 py-2 text-xs font-semibold text-white hover:bg-blue-400 disabled:opacity-60",disabled:0===N.trim().length,children:"청구 적용"})]})]})]})}):null,v?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center overlay-backdrop backdrop-blur",children:(0,a.jsxs)("div",{className:"w-full max-w-xl rounded-3xl border border-slate-800 bg-slate-900/90 p-6 text-sm text-slate-200 shadow-2xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"예약 일정 변경"}),(0,a.jsx)("button",{type:"button",className:"text-slate-400 hover:text-slate-200",onClick:q,"aria-label":"Close reschedule modal",children:"✕"})]}),(0,a.jsxs)("p",{className:"mt-2 text-xs text-slate-400",children:[v.customerName," / 주문번호"," ",v.id]}),(0,a.jsxs)("form",{className:"mt-4 space-y-4",onSubmit:e=>{e.preventDefault(),v&&0!==w.orderDate.trim().length&&0!==w.dueDate.trim().length&&(M(v.id,e=>({...e,orderDate:w.orderDate,dueDate:w.dueDate,returnDate:w.returnDate.trim().length>0?w.returnDate:void 0})),q())},children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("label",{className:"space-y-2 text-xs font-semibold uppercase tracking-widest text-slate-400",children:["대여 시작일",(0,a.jsx)("input",{type:"date",className:"w-full rounded border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-100 focus:border-blue-400 focus:outline-none",value:w.orderDate,onChange:e=>S(t=>({...t,orderDate:e.target.value})),required:!0})]}),(0,a.jsxs)("label",{className:"space-y-2 text-xs font-semibold uppercase tracking-widest text-slate-400",children:["반납 예정일",(0,a.jsx)("input",{type:"date",className:"w-full rounded border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-100 focus:border-blue-400 focus:outline-none",value:w.dueDate,onChange:e=>S(t=>({...t,dueDate:e.target.value})),required:!0})]})]}),(0,a.jsxs)("label",{className:"space-y-2 text-xs font-semibold uppercase tracking-widest text-slate-400",children:["반납일 (선택)",(0,a.jsx)("input",{type:"date",className:"w-full rounded border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-100 focus:border-blue-400 focus:outline-none",value:w.returnDate,onChange:e=>S(t=>({...t,returnDate:e.target.value}))})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)("button",{type:"button",className:"rounded-full border border-slate-700 px-4 py-2 text-xs font-semibold text-slate-300 hover:border-slate-500",onClick:q,children:"취소"}),(0,a.jsx)("button",{type:"submit",className:"rounded-full bg-blue-500 px-4 py-2 text-xs font-semibold text-white hover:bg-blue-400",children:"일정 저장"})]})]})]})}):null,k?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center overlay-backdrop backdrop-blur",children:(0,a.jsxs)("div",{className:"w-full max-w-2xl rounded-3xl border border-slate-800 bg-slate-900/90 p-6 text-sm text-slate-200 shadow-2xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"상품/유닛 변경"}),(0,a.jsx)("button",{type:"button",className:"text-slate-400 hover:text-slate-200",onClick:B,"aria-label":"Close items modal",children:"✕"})]}),(0,a.jsxs)("p",{className:"mt-2 text-xs text-slate-400",children:[k.customerName," / 주문번호"," ",k.id]}),(0,a.jsxs)("form",{className:"mt-4 space-y-4",onSubmit:e=>{if(e.preventDefault(),!k)return;let t=I.map(e=>{let t=O.find(t=>t.slug===e.productSlug);return{...e,name:t?t.name:e.name,unitId:e.unitId&&e.unitId.trim().length>0?e.unitId.trim():void 0}}),s=t.reduce((e,t)=>{let s=O.find(e=>e.slug===t.productSlug);return s?e+s.basePriceValue*t.quantity:e},0);M(k.id,e=>({...e,items:t,totalAmount:s})),B()},children:[(0,a.jsx)("div",{className:"space-y-4",children:I.map((e,t)=>{var s;let l=i.we.filter(t=>t.productSlug===e.productSlug);return(0,a.jsxs)("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/70 p-4",children:[(0,a.jsxs)("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-400",children:["아이템 ",t+1]}),(0,a.jsxs)("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:[(0,a.jsxs)("label",{className:"space-y-2 text-xs text-slate-400",children:["상품 선택",(0,a.jsx)("select",{className:"w-full rounded border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-100 focus:border-blue-400 focus:outline-none",value:e.productSlug,onChange:s=>{let a=s.target.value,l=O.find(e=>e.slug===a);_(t,{productSlug:a,name:l?l.name:e.name,unitId:void 0})},children:O.map(e=>(0,a.jsx)("option",{value:e.slug,children:e.name},e.slug))})]}),(0,a.jsxs)("label",{className:"space-y-2 text-xs text-slate-400",children:["수량",(0,a.jsx)("input",{type:"number",min:1,max:6,className:"w-full rounded border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-100 focus:border-blue-400 focus:outline-none",value:e.quantity,onChange:e=>_(t,{quantity:Math.max(1,Number(e.target.value)||1)})})]})]}),(0,a.jsxs)("label",{className:"mt-3 block space-y-2 text-xs text-slate-400",children:["유닛 선택 (선택 사항)",(0,a.jsxs)("select",{className:"w-full rounded border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-100 focus:border-blue-400 focus:outline-none",value:null!=(s=e.unitId)?s:"",onChange:e=>_(t,{unitId:e.target.value.length>0?e.target.value:void 0}),children:[(0,a.jsx)("option",{value:"",children:"지정 안 함"}),l.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.id," \xb7 ",e.status]},e.id))]})]})]},"".concat(e.productSlug,"-").concat(t))})}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)("button",{type:"button",className:"rounded-full border border-slate-700 px-4 py-2 text-xs font-semibold text-slate-300 hover:border-slate-500",onClick:B,children:"취소"}),(0,a.jsx)("button",{type:"submit",className:"rounded-full bg-blue-500 px-4 py-2 text-xs font-semibold text-white hover:bg-blue-400",children:"변경 저장"})]})]})]})}):null]})}}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=5332)),_N_E=e.O()}]);